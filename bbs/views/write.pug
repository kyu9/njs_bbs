link(rel='stylesheet', href='css/bootstrap.css')
link(rel='stylesheet', href='https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.4/css/bootstrap-select.min.css')
ons-page
    ons-toolbar
    div(style='text-align: center; margin-top:3%;')
        section(style='padding: 8px')
            textarea.text-input#title(type='text', ng-model='text', placeholder='제목', style='width: 80%; height:30px;')
        section(style='padding: 0 8px 8px')
            textarea.textarea#content(ng-model='text2', placeholder='내용', style='width: 80%; height: 400px;')
            pre
            input#uid(type='text', name='id', placeholder='아이디')
            input#password(type='password', name='password', placeholder='비밀번호')
        section(style='padding: 0 8px 8px')
            button(type="button" class='btn btn-primary' onclick='submitFunction()') Submit

script.
    var title = document.getElementById('title');
    var content = document.getElementById('content');
    var uid = document.getElementById('uid');
    var password = document.getElementById('password');
    var url = 'http://localhost:3000/write_receive';
    function submitFunction() {
        var data = {'title': title.value, 'content': content.value, 'uid': uid.value, 'password':password.value};
        data = JSON.stringify(data);
        var xhr = new XMLHttpRequest();
        xhr.open('POST', url, true);
        xhr.setRequestHeader('Content-type', 'application/json');
        xhr.send(data);
        xhr.addEventListener('load', function () {
            var result = JSON.parse(xhr.responseText);
            if (result.result == 'ok') {
                alert('작성완료!')
                location.replace('http://localhost:3000/posts')
            }
            else if(result.result == 'no'){
                alert('비밀번호를 다시 입력하세요!')
                return
            }else if(result.result == 'none'){
                alert('아이디가 존재하지 않습니다!')
            }
        })
    }
